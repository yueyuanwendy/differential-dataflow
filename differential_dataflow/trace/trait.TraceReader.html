<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `TraceReader` trait in crate `differential_dataflow`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, TraceReader">

    <title>differential_dataflow::trace::TraceReader - Rust</title>

    <link rel="stylesheet" type="text/css" href="../../normalize.css">
    <link rel="stylesheet" type="text/css" href="../../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../../main.css">
    

    
    
</head>
<body class="rustdoc trait">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'><a href='../index.html'>differential_dataflow</a>::<wbr><a href='index.html'>trace</a></p><script>window.sidebarCurrent = {name: 'TraceReader', ty: 'trait', relpath: ''};</script><script defer src="sidebar-items.js"></script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content">
<h1 class='fqn'><span class='in-band'>Trait <a href='../index.html'>differential_dataflow</a>::<wbr><a href='index.html'>trace</a>::<wbr><a class="trait" href=''>TraceReader</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span><a class='srclink' href='../../src/differential_dataflow/trace/mod.rs.html#41-108' title='goto source code'>[src]</a></span></h1>
<pre class='rust trait'>pub trait TraceReader&lt;Key, Val, Time, R&gt; {
    type <a href='#associatedtype.Batch' class="type">Batch</a>: <a class="trait" href="../../differential_dataflow/trace/trait.BatchReader.html" title="trait differential_dataflow::trace::BatchReader">BatchReader</a>&lt;Key, Val, Time, R&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + 'static;
    type <a href='#associatedtype.Cursor' class="type">Cursor</a>: <a class="trait" href="../../differential_dataflow/trace/cursor/trait.Cursor.html" title="trait differential_dataflow::trace::cursor::Cursor">Cursor</a>&lt;Key, Val, Time, R&gt;;
    fn <a href='#tymethod.cursor_through' class='fnname'>cursor_through</a>(&amp;mut self, upper: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;[</a>Time<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Self::<a class="trait" href="../../differential_dataflow/trace/trait.TraceReader.html" title="trait differential_dataflow::trace::TraceReader">Cursor</a>&gt;;
    fn <a href='#tymethod.advance_by' class='fnname'>advance_by</a>(&amp;mut self, frontier: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;[</a>Time<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>);
    fn <a href='#tymethod.advance_frontier' class='fnname'>advance_frontier</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;[</a>Time<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>;
    fn <a href='#tymethod.distinguish_since' class='fnname'>distinguish_since</a>(&amp;mut self, frontier: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;[</a>Time<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>);
    fn <a href='#tymethod.distinguish_frontier' class='fnname'>distinguish_frontier</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;[</a>Time<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>;
    fn <a href='#tymethod.map_batches' class='fnname'>map_batches</a>&lt;F:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/trait.FnMut.html" title="trait core::ops::FnMut">FnMut</a>(&amp;Self::<a class="trait" href="../../differential_dataflow/trace/trait.TraceReader.html" title="trait differential_dataflow::trace::TraceReader">Batch</a>)&gt;(&amp;mut self, f: F);

    fn <a href='#method.cursor' class='fnname'>cursor</a>(&amp;mut self) -&gt; Self::<a class="trait" href="../../differential_dataflow/trace/trait.TraceReader.html" title="trait differential_dataflow::trace::TraceReader">Cursor</a> { ... }
}</pre><div class='docblock'><p>A trace whose contents may be read.</p>

<p>This is a restricted interface to the more general <code>Trace</code> trait, which extends this trait with further methods
to update the contents of the trace. These methods are used to examine the contents, and to update the reader&#39;s
capabilities (which may release restrictions on the mutations to the underlying trace and cause work to happen).</p>
</div>
            <h2 id='associated-types'>Associated Types</h2>
            <div class='methods'>
        <h3 id='associatedtype.Batch' class='method'><span id='Batch.t' class='invisible'><code>type <a href='#associatedtype.Batch' class="type">Batch</a>: <a class="trait" href="../../differential_dataflow/trace/trait.BatchReader.html" title="trait differential_dataflow::trace::BatchReader">BatchReader</a>&lt;Key, Val, Time, R&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + 'static</code></span></h3><div class='docblock'><p>The type of an immutable collection of updates.</p>
</div><h3 id='associatedtype.Cursor' class='method'><span id='Cursor.t' class='invisible'><code>type <a href='#associatedtype.Cursor' class="type">Cursor</a>: <a class="trait" href="../../differential_dataflow/trace/cursor/trait.Cursor.html" title="trait differential_dataflow::trace::cursor::Cursor">Cursor</a>&lt;Key, Val, Time, R&gt;</code></span></h3><div class='docblock'><p>The type used to enumerate the collections contents.</p>
</div></div>
            <h2 id='required-methods'>Required Methods</h2>
            <div class='methods'>
        <h3 id='tymethod.cursor_through' class='method'><span id='cursor_through.v' class='invisible'><code>fn <a href='#tymethod.cursor_through' class='fnname'>cursor_through</a>(&amp;mut self, upper: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;[</a>Time<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Self::<a class="trait" href="../../differential_dataflow/trace/trait.TraceReader.html" title="trait differential_dataflow::trace::TraceReader">Cursor</a>&gt;</code></span></h3><div class='docblock'><p>Acquires a cursor to the restriction of the collection&#39;s contents to updates at times not greater or
equal to an element of <code>upper</code>.</p>

<p>This method is expected to work if called with an <code>upper</code> that (i) was an observed bound in batches from
the trace, and (ii) the trace has not been advanced beyond <code>upper</code>. Practically, the implementation should
be expected to look for a &quot;clean cut&quot; using <code>upper</code>, and if it finds such a cut can return a cursor. This
should allow <code>upper</code> such as <code>&amp;[]</code> as used by <code>self.cursor()</code>, though it is difficult to imagine other uses.</p>
</div><h3 id='tymethod.advance_by' class='method'><span id='advance_by.v' class='invisible'><code>fn <a href='#tymethod.advance_by' class='fnname'>advance_by</a>(&amp;mut self, frontier: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;[</a>Time<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>)</code></span></h3><div class='docblock'><p>Advances the frontier of times the collection must be correctly accumulable through.</p>

<p>Practically, this allows the trace to advance times in updates it maintains as long as the advanced times 
still compare equivalently to any times greater or equal to some element of <code>frontier</code>. Times not greater
or equal to some element of <code>frontier</code> may no longer correctly accumulate, so do not advance a trace unless
you are quite sure you no longer require the distinction.</p>
</div><h3 id='tymethod.advance_frontier' class='method'><span id='advance_frontier.v' class='invisible'><code>fn <a href='#tymethod.advance_frontier' class='fnname'>advance_frontier</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;[</a>Time<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a></code></span></h3><div class='docblock'><p>Reports the frontier from which all time comparisions should be accurate.</p>

<p>Times that are not greater or equal to some element of the advance frontier may accumulate inaccurately as
the trace may have lost the ability to distinguish between such times. Accumulations are only guaranteed to
be accurate from the frontier onwards.</p>
</div><h3 id='tymethod.distinguish_since' class='method'><span id='distinguish_since.v' class='invisible'><code>fn <a href='#tymethod.distinguish_since' class='fnname'>distinguish_since</a>(&amp;mut self, frontier: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;[</a>Time<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>)</code></span></h3><div class='docblock'><p>Advances the frontier that may be used in <code>cursor_through</code>.</p>

<p>Practically, this allows the trace to merge batches whose upper frontier comes before <code>frontier</code>. The trace
is likely to be annoyed or confused if you use a frontier other than one observed as an upper bound of an 
actual batch. This doesn&#39;t seem likely to be a problem, but get in touch if it is.</p>

<p>Calling <code>distinguish_since(&amp;[])</code> indicates that all batches may be merged at any point, which essentially 
disables the use of <code>cursor_through</code> with any parameter other than <code>&amp;[]</code>, which is the behavior of <code>cursor</code>.</p>
</div><h3 id='tymethod.distinguish_frontier' class='method'><span id='distinguish_frontier.v' class='invisible'><code>fn <a href='#tymethod.distinguish_frontier' class='fnname'>distinguish_frontier</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;[</a>Time<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a></code></span></h3><div class='docblock'><p>Reports the frontier from which the collection may be subsetted.</p>

<p>The semantics are less elegant here, but the underlying trace will not merge batches in advance of this 
frontier, which ensures that operators can extract the subset of the trace at batch boundaries from this
frontier onward. These boundaries may be used in <code>cursor_through</code>, whereas boundaries not in advance of 
this frontier are not guaranteed to return a cursor.</p>
</div><h3 id='tymethod.map_batches' class='method'><span id='map_batches.v' class='invisible'><code>fn <a href='#tymethod.map_batches' class='fnname'>map_batches</a>&lt;F:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/trait.FnMut.html" title="trait core::ops::FnMut">FnMut</a>(&amp;Self::<a class="trait" href="../../differential_dataflow/trace/trait.TraceReader.html" title="trait differential_dataflow::trace::TraceReader">Batch</a>)&gt;(&amp;mut self, f: F)</code></span></h3><div class='docblock'><p>Maps some logic across the batches the collection manages.</p>

<p>This is currently used only to extract historical data to prime late-starting operators who want to reproduce
the stream of batches moving past the trace. It could also be a fine basis for a default implementation of the
cursor methods, as they (by default) just move through batches accumulating cursors into a cursor list.</p>
</div></div>
            <h2 id='provided-methods'>Provided Methods</h2>
            <div class='methods'>
        <h3 id='method.cursor' class='method'><span id='cursor.v' class='invisible'><code>fn <a href='#method.cursor' class='fnname'>cursor</a>(&amp;mut self) -&gt; Self::<a class="trait" href="../../differential_dataflow/trace/trait.TraceReader.html" title="trait differential_dataflow::trace::TraceReader">Cursor</a></code></span></h3><div class='docblock'><p>Provides a cursor over updates contained in the trace.</p>
</div></div>
        <h2 id='implementors'>Implementors</h2>
        <ul class='item-list' id='implementors-list'>
    <li><code>impl&lt;K, V, T, R, Tr&gt; TraceReader&lt;K, V, T, R&gt; for <a class="struct" href="../../differential_dataflow/operators/arrange/struct.TraceAgent.html" title="struct differential_dataflow::operators::arrange::TraceAgent">TraceAgent</a>&lt;K, V, T, R, Tr&gt; <span class="where fmt-newline">where T: <a class="trait" href="../../differential_dataflow/lattice/trait.Lattice.html" title="trait differential_dataflow::lattice::Lattice">Lattice</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + 'static,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tr: <a class="trait" href="../../differential_dataflow/trace/trait.TraceReader.html" title="trait differential_dataflow::trace::TraceReader">TraceReader</a>&lt;K, V, T, R&gt;</span></code></li>
<li><code>impl&lt;K, V, T, R, B&gt; TraceReader&lt;K, V, T, R&gt; for <a class="struct" href="../../differential_dataflow/trace/implementations/spine/struct.Spine.html" title="struct differential_dataflow::trace::implementations::spine::Spine">Spine</a>&lt;K, V, T, R, B&gt; <span class="where fmt-newline">where K: <a class="trait" href="https://doc.rust-lang.org/nightly/core/cmp/trait.Ord.html" title="trait core::cmp::Ord">Ord</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;V: <a class="trait" href="https://doc.rust-lang.org/nightly/core/cmp/trait.Ord.html" title="trait core::cmp::Ord">Ord</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;T: <a class="trait" href="../../differential_dataflow/lattice/trait.Lattice.html" title="trait differential_dataflow::lattice::Lattice">Lattice</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/cmp/trait.Ord.html" title="trait core::cmp::Ord">Ord</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;R: <a class="trait" href="../../differential_dataflow/difference/trait.Diff.html" title="trait differential_dataflow::difference::Diff">Diff</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;B: <a class="trait" href="../../differential_dataflow/trace/trait.Batch.html" title="trait differential_dataflow::trace::Batch">Batch</a>&lt;K, V, T, R&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + 'static</span></code></li>
<li><code>impl&lt;K, V, T, R, Tr, TInner&gt; TraceReader&lt;K, V, <a class="struct" href="../../timely/progress/nested/product/struct.Product.html" title="struct timely::progress::nested::product::Product">Product</a>&lt;T, TInner&gt;, R&gt; for <a class="struct" href="../../differential_dataflow/trace/wrappers/enter/struct.TraceEnter.html" title="struct differential_dataflow::trace::wrappers::enter::TraceEnter">TraceEnter</a>&lt;K, V, T, R, Tr, TInner&gt; <span class="where fmt-newline">where Tr: <a class="trait" href="../../differential_dataflow/trace/trait.TraceReader.html" title="trait differential_dataflow::trace::TraceReader">TraceReader</a>&lt;K, V, T, R&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tr::<a class="trait" href="../../differential_dataflow/trace/trait.TraceReader.html" title="trait differential_dataflow::trace::TraceReader">Batch</a>: <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;K: 'static,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;V: 'static,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;T: <a class="trait" href="../../differential_dataflow/lattice/trait.Lattice.html" title="trait differential_dataflow::lattice::Lattice">Lattice</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/default/trait.Default.html" title="trait core::default::Default">Default</a> + 'static,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TInner: <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/default/trait.Default.html" title="trait core::default::Default">Default</a> + 'static,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;R: 'static</span></code></li>
<li><code>impl&lt;K, V, T, R, Tr&gt; TraceReader&lt;K, V, T, R&gt; for <a class="struct" href="../../differential_dataflow/trace/wrappers/rc/struct.TraceRc.html" title="struct differential_dataflow::trace::wrappers::rc::TraceRc">TraceRc</a>&lt;K, V, T, R, Tr&gt; <span class="where fmt-newline">where T: <a class="trait" href="../../differential_dataflow/lattice/trait.Lattice.html" title="trait differential_dataflow::lattice::Lattice">Lattice</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + 'static,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tr: <a class="trait" href="../../differential_dataflow/trace/trait.TraceReader.html" title="trait differential_dataflow::trace::TraceReader">TraceReader</a>&lt;K, V, T, R&gt;</span></code></li>
</ul><script type="text/javascript" async
                         src="../../implementors/differential_dataflow/trace/trait.TraceReader.js">
                 </script></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                    <dt>+</dt>
                    <dd>Collapse/expand all sections</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../../";
        window.currentCrate = "differential_dataflow";
    </script>
    <script src="../../jquery.js"></script>
    <script src="../../main.js"></script>
    <script defer src="../../search-index.js"></script>
</body>
</html>
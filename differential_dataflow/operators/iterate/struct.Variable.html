<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `Variable` struct in crate `differential_dataflow`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, Variable">

    <title>differential_dataflow::operators::iterate::Variable - Rust</title>

    <link rel="stylesheet" type="text/css" href="../../../normalize.css">
    <link rel="stylesheet" type="text/css" href="../../../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../../../main.css">
    

    
    
</head>
<body class="rustdoc struct">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'><a href='../../index.html'>differential_dataflow</a>::<wbr><a href='../index.html'>operators</a>::<wbr><a href='index.html'>iterate</a></p><script>window.sidebarCurrent = {name: 'Variable', ty: 'struct', relpath: ''};</script><script defer src="sidebar-items.js"></script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content">
<h1 class='fqn'><span class='in-band'>Struct <a href='../../index.html'>differential_dataflow</a>::<wbr><a href='../index.html'>operators</a>::<wbr><a href='index.html'>iterate</a>::<wbr><a class="struct" href=''>Variable</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span><a class='srclink' href='../../../src/differential_dataflow/operators/iterate.rs.html#133-138' title='goto source code'>[src]</a></span></h1>
<pre class='rust struct'>pub struct Variable&lt;'a, G:&nbsp;<a class="trait" href="../../../timely/dataflow/scopes/trait.Scope.html" title="trait timely::dataflow::scopes::Scope">Scope</a>, D:&nbsp;<a class="trait" href="../../../differential_dataflow/trait.Data.html" title="trait differential_dataflow::Data">Data</a>, R:&nbsp;<a class="trait" href="../../../differential_dataflow/difference/trait.Diff.html" title="trait differential_dataflow::difference::Diff">Diff</a>&gt; <span class="where fmt-newline">where G::<a class="trait" href="../../../timely/dataflow/scopes/trait.ScopeParent.html" title="trait timely::dataflow::scopes::ScopeParent">Timestamp</a>: <a class="trait" href="../../../differential_dataflow/lattice/trait.Lattice.html" title="trait differential_dataflow::lattice::Lattice">Lattice</a></span> { /* fields omitted */ }</pre><div class='docblock'><p>A differential dataflow collection variable</p>

<p>The <code>Variable</code> struct allows differential dataflow programs requiring more sophisticated
iterative patterns than singly recursive iteration. For example: in mutual recursion two 
collections evolve simultaneously.</p>

<h1 id='examples' class='section-header'><a href='#examples'>Examples</a></h1>
<p>The following example is equivalent to the example for the <code>Iterate</code> trait.</p>

<pre class="rust rust-example-rendered">
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">timely</span>;
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">differential_dataflow</span>;

<span class="kw">use</span> <span class="ident">timely</span>::<span class="ident">dataflow</span>::<span class="ident">Scope</span>;

<span class="kw">use</span> <span class="ident">differential_dataflow</span>::<span class="ident">input</span>::<span class="ident">Input</span>;
<span class="kw">use</span> <span class="ident">differential_dataflow</span>::<span class="ident">operators</span>::<span class="ident">iterate</span>::<span class="ident">Variable</span>;
<span class="kw">use</span> <span class="ident">differential_dataflow</span>::<span class="ident">operators</span>::<span class="ident">Consolidate</span>;

<span class="kw">fn</span> <span class="ident">main</span>() {
    ::<span class="ident">timely</span>::<span class="ident">example</span>(<span class="op">|</span><span class="ident">scope</span><span class="op">|</span> {

        <span class="kw">let</span> <span class="ident">numbers</span> <span class="op">=</span> <span class="ident">scope</span>.<span class="ident">new_collection_from</span>(<span class="number">1</span> .. <span class="number">10u32</span>).<span class="number">1</span>;

        <span class="ident">scope</span>.<span class="ident">scoped</span>(<span class="op">|</span><span class="ident">nested</span><span class="op">|</span> {
            <span class="kw">let</span> <span class="ident">variable</span> <span class="op">=</span> <span class="ident">Variable</span>::<span class="ident">from</span>(<span class="ident">numbers</span>.<span class="ident">enter</span>(<span class="ident">nested</span>));
            <span class="kw">let</span> <span class="ident">result</span> <span class="op">=</span> <span class="ident">variable</span>.<span class="ident">map</span>(<span class="op">|</span><span class="ident">x</span><span class="op">|</span> <span class="kw">if</span> <span class="ident">x</span> <span class="op">%</span> <span class="number">2</span> <span class="op">==</span> <span class="number">0</span> { <span class="ident">x</span><span class="op">/</span><span class="number">2</span> } <span class="kw">else</span> { <span class="ident">x</span> })
                                 .<span class="ident">consolidate</span>();
            <span class="ident">variable</span>.<span class="ident">set</span>(<span class="kw-2">&amp;</span><span class="ident">result</span>)
                    .<span class="ident">leave</span>()
        });
    })
}</pre>
</div><h2 id='methods'>Methods</h2><h3 class='impl'><span class='in-band'><code>impl&lt;'a, G:&nbsp;<a class="trait" href="../../../timely/dataflow/scopes/trait.Scope.html" title="trait timely::dataflow::scopes::Scope">Scope</a>, D:&nbsp;<a class="trait" href="../../../differential_dataflow/trait.Data.html" title="trait differential_dataflow::Data">Data</a>, R:&nbsp;<a class="trait" href="../../../differential_dataflow/difference/trait.Diff.html" title="trait differential_dataflow::difference::Diff">Diff</a>&gt; <a class="struct" href="../../../differential_dataflow/operators/iterate/struct.Variable.html" title="struct differential_dataflow::operators::iterate::Variable">Variable</a>&lt;'a, G, D, R&gt; <span class="where fmt-newline">where G::<a class="trait" href="../../../timely/dataflow/scopes/trait.ScopeParent.html" title="trait timely::dataflow::scopes::ScopeParent">Timestamp</a>: <a class="trait" href="../../../differential_dataflow/lattice/trait.Lattice.html" title="trait differential_dataflow::lattice::Lattice">Lattice</a></span></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../../src/differential_dataflow/operators/iterate.rs.html#140-157' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.from' class="method"><span id='from.v' class='invisible'><code>fn <a href='#method.from' class='fnname'>from</a>(source: <a class="struct" href="../../../differential_dataflow/collection/struct.Collection.html" title="struct differential_dataflow::collection::Collection">Collection</a>&lt;<a class="struct" href="../../../timely/dataflow/scopes/child/struct.Child.html" title="struct timely::dataflow::scopes::child::Child">Child</a>&lt;'a, G, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>&gt;, D, R&gt;) -&gt; <a class="struct" href="../../../differential_dataflow/operators/iterate/struct.Variable.html" title="struct differential_dataflow::operators::iterate::Variable">Variable</a>&lt;'a, G, D, R&gt;</code></span></h4>
<div class='docblock'><p>Creates a new <code>Variable</code> and a <code>Stream</code> representing its output, from a supplied <code>source</code> stream.</p>
</div><h4 id='method.set' class="method"><span id='set.v' class='invisible'><code>fn <a href='#method.set' class='fnname'>set</a>(self,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; result: &amp;<a class="struct" href="../../../differential_dataflow/collection/struct.Collection.html" title="struct differential_dataflow::collection::Collection">Collection</a>&lt;<a class="struct" href="../../../timely/dataflow/scopes/child/struct.Child.html" title="struct timely::dataflow::scopes::child::Child">Child</a>&lt;'a, G, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>&gt;, D, R&gt;)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -&gt; <a class="struct" href="../../../differential_dataflow/collection/struct.Collection.html" title="struct differential_dataflow::collection::Collection">Collection</a>&lt;<a class="struct" href="../../../timely/dataflow/scopes/child/struct.Child.html" title="struct timely::dataflow::scopes::child::Child">Child</a>&lt;'a, G, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>&gt;, D, R&gt;</code></span></h4>
<div class='docblock'><p>Adds a new source of data to the <code>Variable</code>.</p>
</div></div><h2 id='deref-methods'>Methods from <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/trait.Deref.html" title="trait core::ops::Deref">Deref</a>&lt;Target=<a class="struct" href="../../../differential_dataflow/collection/struct.Collection.html" title="struct differential_dataflow::collection::Collection">Collection</a>&lt;<a class="struct" href="../../../timely/dataflow/scopes/child/struct.Child.html" title="struct timely::dataflow::scopes::child::Child">Child</a>&lt;'a, G, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>&gt;, D, R&gt;&gt;</h2><div class='impl-items'><h4 id='method.map' class="method"><span id='map.v' class='invisible'><code>fn <a href='#method.map' class='fnname'>map</a>&lt;D2, L&gt;(&amp;self, logic: L) -&gt; <a class="struct" href="../../../differential_dataflow/collection/struct.Collection.html" title="struct differential_dataflow::collection::Collection">Collection</a>&lt;G, D2, R&gt; <span class="where fmt-newline">where D2: <a class="trait" href="../../../timely/trait.Data.html" title="trait timely::Data">Data</a>, L: <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/trait.Fn.html" title="trait core::ops::Fn">Fn</a>(D) -&gt; D2 + 'static</span></code></span></h4>
<div class='docblock'><p>Creates a new collection by applying the supplied function to each input element.</p>

<h1 id='examples-1' class='section-header'><a href='#examples-1'>Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">timely</span>;
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">differential_dataflow</span>;

<span class="kw">use</span> <span class="ident">differential_dataflow</span>::<span class="ident">input</span>::<span class="ident">Input</span>;

<span class="kw">fn</span> <span class="ident">main</span>() {
    ::<span class="ident">timely</span>::<span class="ident">example</span>(<span class="op">|</span><span class="ident">scope</span><span class="op">|</span> {
        <span class="ident">scope</span>.<span class="ident">new_collection_from</span>(<span class="number">1</span> .. <span class="number">10</span>).<span class="number">1</span>
             .<span class="ident">map</span>(<span class="op">|</span><span class="ident">x</span><span class="op">|</span> <span class="ident">x</span> <span class="op">*</span> <span class="number">2</span>)
             .<span class="ident">filter</span>(<span class="op">|</span><span class="ident">x</span><span class="op">|</span> <span class="ident">x</span> <span class="op">%</span> <span class="number">2</span> <span class="op">==</span> <span class="number">1</span>)
             .<span class="ident">assert_empty</span>();
    });
}</pre>
</div><h4 id='method.map_in_place' class="method"><span id='map_in_place.v' class='invisible'><code>fn <a href='#method.map_in_place' class='fnname'>map_in_place</a>&lt;L&gt;(&amp;self, logic: L) -&gt; <a class="struct" href="../../../differential_dataflow/collection/struct.Collection.html" title="struct differential_dataflow::collection::Collection">Collection</a>&lt;G, D, R&gt; <span class="where fmt-newline">where L: <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/trait.Fn.html" title="trait core::ops::Fn">Fn</a>(&amp;mut D) + 'static</span></code></span></h4>
<div class='docblock'><p>Creates a new collection by applying the supplied function to each input element.</p>

<p>Although the name suggests in-place mutation, this function does not change the source collection, 
but rather re-uses the underlying allocations in its implementation. The method is semantically 
equivalent to <code>map</code>, but can be more efficient.</p>

<h1 id='examples-2' class='section-header'><a href='#examples-2'>Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">timely</span>;
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">differential_dataflow</span>;

<span class="kw">use</span> <span class="ident">differential_dataflow</span>::<span class="ident">input</span>::<span class="ident">Input</span>;
<span class="kw">use</span> <span class="ident">differential_dataflow</span>::<span class="ident">operators</span>::<span class="kw-2">*</span>;

<span class="kw">fn</span> <span class="ident">main</span>() {
    ::<span class="ident">timely</span>::<span class="ident">example</span>(<span class="op">|</span><span class="ident">scope</span><span class="op">|</span> {
        <span class="ident">scope</span>.<span class="ident">new_collection_from</span>(<span class="number">1</span> .. <span class="number">10</span>).<span class="number">1</span>
             .<span class="ident">map_in_place</span>(<span class="op">|</span><span class="ident">x</span><span class="op">|</span> <span class="kw-2">*</span><span class="ident">x</span> <span class="op">*=</span> <span class="number">2</span>)
             .<span class="ident">filter</span>(<span class="op">|</span><span class="ident">x</span><span class="op">|</span> <span class="ident">x</span> <span class="op">%</span> <span class="number">2</span> <span class="op">==</span> <span class="number">1</span>)
             .<span class="ident">assert_empty</span>();
    });
}</pre>
</div><h4 id='method.flat_map' class="method"><span id='flat_map.v' class='invisible'><code>fn <a href='#method.flat_map' class='fnname'>flat_map</a>&lt;I, L&gt;(&amp;self, logic: L) -&gt; <a class="struct" href="../../../differential_dataflow/collection/struct.Collection.html" title="struct differential_dataflow::collection::Collection">Collection</a>&lt;G, I::<a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/trait.IntoIterator.html" title="trait core::iter::traits::IntoIterator">Item</a>, R&gt; <span class="where fmt-newline">where G::<a class="trait" href="../../../timely/dataflow/scopes/trait.ScopeParent.html" title="trait timely::dataflow::scopes::ScopeParent">Timestamp</a>: <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;I: <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/trait.IntoIterator.html" title="trait core::iter::traits::IntoIterator">IntoIterator</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;I::<a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/trait.IntoIterator.html" title="trait core::iter::traits::IntoIterator">Item</a>: <a class="trait" href="../../../timely/trait.Data.html" title="trait timely::Data">Data</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;L: <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/trait.Fn.html" title="trait core::ops::Fn">Fn</a>(D) -&gt; I + 'static</span></code></span></h4>
<div class='docblock'><p>Creates a new collection by applying the supplied function to each input element and accumulating the results.</p>

<p>This method extracts an iterator from each input element, and extracts the full contents of the iterator. Be 
warned that if the iterators produce substantial amounts of data, they are currently fully drained before attempting
to consolidate the results.</p>

<h1 id='examples-3' class='section-header'><a href='#examples-3'>Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">timely</span>;
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">differential_dataflow</span>;

<span class="kw">use</span> <span class="ident">differential_dataflow</span>::<span class="ident">input</span>::<span class="ident">Input</span>;
<span class="kw">use</span> <span class="ident">differential_dataflow</span>::<span class="ident">operators</span>::<span class="kw-2">*</span>;

<span class="kw">fn</span> <span class="ident">main</span>() {
    ::<span class="ident">timely</span>::<span class="ident">example</span>(<span class="op">|</span><span class="ident">scope</span><span class="op">|</span> {
        <span class="ident">scope</span>.<span class="ident">new_collection_from</span>(<span class="number">1</span> .. <span class="number">10</span>).<span class="number">1</span>
             .<span class="ident">flat_map</span>(<span class="op">|</span><span class="ident">x</span><span class="op">|</span> <span class="number">0</span> .. <span class="ident">x</span>);
    });
}</pre>
</div><h4 id='method.negate' class="method"><span id='negate.v' class='invisible'><code>fn <a href='#method.negate' class='fnname'>negate</a>(&amp;self) -&gt; <a class="struct" href="../../../differential_dataflow/collection/struct.Collection.html" title="struct differential_dataflow::collection::Collection">Collection</a>&lt;G, D, R&gt;</code></span></h4>
<div class='docblock'><p>Creates a new collection whose counts are the negation of those in the input.</p>

<p>This method is most commonly used with <code>concat</code> to get those element in one collection but not another. 
However, differential dataflow computations are still defined for all values of the difference type <code>R</code>, 
including negative counts.</p>

<h1 id='examples-4' class='section-header'><a href='#examples-4'>Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">timely</span>;
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">differential_dataflow</span>;

<span class="kw">use</span> <span class="ident">differential_dataflow</span>::<span class="ident">input</span>::<span class="ident">Input</span>;
<span class="kw">use</span> <span class="ident">differential_dataflow</span>::<span class="ident">operators</span>::<span class="kw-2">*</span>;

<span class="kw">fn</span> <span class="ident">main</span>() {
    ::<span class="ident">timely</span>::<span class="ident">example</span>(<span class="op">|</span><span class="ident">scope</span><span class="op">|</span> {

        <span class="kw">let</span> <span class="ident">data</span> <span class="op">=</span> <span class="ident">scope</span>.<span class="ident">new_collection_from</span>(<span class="number">1</span> .. <span class="number">10</span>).<span class="number">1</span>;

        <span class="kw">let</span> <span class="ident">odds</span> <span class="op">=</span> <span class="ident">data</span>.<span class="ident">filter</span>(<span class="op">|</span><span class="ident">x</span><span class="op">|</span> <span class="ident">x</span> <span class="op">%</span> <span class="number">2</span> <span class="op">==</span> <span class="number">1</span>);
        <span class="kw">let</span> <span class="ident">evens</span> <span class="op">=</span> <span class="ident">data</span>.<span class="ident">filter</span>(<span class="op">|</span><span class="ident">x</span><span class="op">|</span> <span class="ident">x</span> <span class="op">%</span> <span class="number">2</span> <span class="op">==</span> <span class="number">0</span>);

        <span class="ident">odds</span>.<span class="ident">negate</span>()
            .<span class="ident">concat</span>(<span class="kw-2">&amp;</span><span class="ident">data</span>)
            .<span class="ident">assert_eq</span>(<span class="kw-2">&amp;</span><span class="ident">evens</span>);
    });
}</pre>
</div><h4 id='method.filter' class="method"><span id='filter.v' class='invisible'><code>fn <a href='#method.filter' class='fnname'>filter</a>&lt;L&gt;(&amp;self, logic: L) -&gt; <a class="struct" href="../../../differential_dataflow/collection/struct.Collection.html" title="struct differential_dataflow::collection::Collection">Collection</a>&lt;G, D, R&gt; <span class="where fmt-newline">where L: <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/trait.Fn.html" title="trait core::ops::Fn">Fn</a>(&amp;D) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a> + 'static</span></code></span></h4>
<div class='docblock'><p>Creates a new collection containing those input records satisfying the supplied predicate.</p>

<h1 id='examples-5' class='section-header'><a href='#examples-5'>Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">timely</span>;
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">differential_dataflow</span>;

<span class="kw">use</span> <span class="ident">differential_dataflow</span>::<span class="ident">input</span>::<span class="ident">Input</span>;
<span class="kw">use</span> <span class="ident">differential_dataflow</span>::<span class="ident">operators</span>::<span class="kw-2">*</span>;

<span class="kw">fn</span> <span class="ident">main</span>() {
    ::<span class="ident">timely</span>::<span class="ident">example</span>(<span class="op">|</span><span class="ident">scope</span><span class="op">|</span> {
        <span class="ident">scope</span>.<span class="ident">new_collection_from</span>(<span class="number">1</span> .. <span class="number">10</span>).<span class="number">1</span>
             .<span class="ident">map</span>(<span class="op">|</span><span class="ident">x</span><span class="op">|</span> <span class="ident">x</span> <span class="op">*</span> <span class="number">2</span>)
             .<span class="ident">filter</span>(<span class="op">|</span><span class="ident">x</span><span class="op">|</span> <span class="ident">x</span> <span class="op">%</span> <span class="number">2</span> <span class="op">==</span> <span class="number">1</span>)
             .<span class="ident">assert_empty</span>();
    });
}</pre>
</div><h4 id='method.concat' class="method"><span id='concat.v' class='invisible'><code>fn <a href='#method.concat' class='fnname'>concat</a>(&amp;self, other: &amp;<a class="struct" href="../../../differential_dataflow/collection/struct.Collection.html" title="struct differential_dataflow::collection::Collection">Collection</a>&lt;G, D, R&gt;) -&gt; <a class="struct" href="../../../differential_dataflow/collection/struct.Collection.html" title="struct differential_dataflow::collection::Collection">Collection</a>&lt;G, D, R&gt;</code></span></h4>
<div class='docblock'><p>Creates a new collection accumulating the contents of the two collections.</p>

<p>Despite the name, differential dataflow collections are unordered. This method is so named because the 
implementation is the concatenation of the stream of updates, but it corresponds to the addition of the
two collections.</p>

<h1 id='examples-6' class='section-header'><a href='#examples-6'>Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">timely</span>;
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">differential_dataflow</span>;

<span class="kw">use</span> <span class="ident">differential_dataflow</span>::<span class="ident">input</span>::<span class="ident">Input</span>;
<span class="kw">use</span> <span class="ident">differential_dataflow</span>::<span class="ident">operators</span>::<span class="kw-2">*</span>;

<span class="kw">fn</span> <span class="ident">main</span>() {
    ::<span class="ident">timely</span>::<span class="ident">example</span>(<span class="op">|</span><span class="ident">scope</span><span class="op">|</span> {

        <span class="kw">let</span> <span class="ident">data</span> <span class="op">=</span> <span class="ident">scope</span>.<span class="ident">new_collection_from</span>(<span class="number">1</span> .. <span class="number">10</span>).<span class="number">1</span>;

        <span class="kw">let</span> <span class="ident">odds</span> <span class="op">=</span> <span class="ident">data</span>.<span class="ident">filter</span>(<span class="op">|</span><span class="ident">x</span><span class="op">|</span> <span class="ident">x</span> <span class="op">%</span> <span class="number">2</span> <span class="op">==</span> <span class="number">1</span>);
        <span class="kw">let</span> <span class="ident">evens</span> <span class="op">=</span> <span class="ident">data</span>.<span class="ident">filter</span>(<span class="op">|</span><span class="ident">x</span><span class="op">|</span> <span class="ident">x</span> <span class="op">%</span> <span class="number">2</span> <span class="op">==</span> <span class="number">0</span>);

        <span class="ident">odds</span>.<span class="ident">concat</span>(<span class="kw-2">&amp;</span><span class="ident">evens</span>)
            .<span class="ident">assert_eq</span>(<span class="kw-2">&amp;</span><span class="ident">data</span>);
    });
}</pre>
</div><h4 id='method.explode' class="method"><span id='explode.v' class='invisible'><code>fn <a href='#method.explode' class='fnname'>explode</a>&lt;D2, R2, I, L&gt;(&amp;self, logic: L) -&gt; <a class="struct" href="../../../differential_dataflow/collection/struct.Collection.html" title="struct differential_dataflow::collection::Collection">Collection</a>&lt;G, D2, R2::<a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/trait.Mul.html" title="trait core::ops::Mul">Output</a>&gt; <span class="where fmt-newline">where D2: <a class="trait" href="../../../timely/trait.Data.html" title="trait timely::Data">Data</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;R2: <a class="trait" href="../../../differential_dataflow/difference/trait.Diff.html" title="trait differential_dataflow::difference::Diff">Diff</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/trait.Mul.html" title="trait core::ops::Mul">Mul</a>&lt;R&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;R2::<a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/trait.Mul.html" title="trait core::ops::Mul">Output</a>: <a class="trait" href="../../../timely/trait.Data.html" title="trait timely::Data">Data</a> + <a class="trait" href="../../../differential_dataflow/difference/trait.Diff.html" title="trait differential_dataflow::difference::Diff">Diff</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;I: <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/trait.IntoIterator.html" title="trait core::iter::traits::IntoIterator">IntoIterator</a>&lt;Item=<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a>D2, R2<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a>&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;L: <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/trait.Fn.html" title="trait core::ops::Fn">Fn</a>(D) -&gt; I + 'static</span></code></span></h4>
<div class='docblock'><p>Replaces each record with another, with a new difference type.</p>

<p>This method is most commonly used to take records containing aggregatable data (e.g. numbers to be summed)
and move the data into the difference component. This will allow differential dataflow to update in-place.</p>

<h1 id='examples-7' class='section-header'><a href='#examples-7'>Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">timely</span>;
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">differential_dataflow</span>;

<span class="kw">use</span> <span class="ident">differential_dataflow</span>::<span class="ident">input</span>::<span class="ident">Input</span>;
<span class="kw">use</span> <span class="ident">differential_dataflow</span>::<span class="ident">operators</span>::<span class="kw-2">*</span>;

<span class="kw">fn</span> <span class="ident">main</span>() {
    ::<span class="ident">timely</span>::<span class="ident">example</span>(<span class="op">|</span><span class="ident">scope</span><span class="op">|</span> {

        <span class="kw">let</span> <span class="ident">nums</span> <span class="op">=</span> <span class="ident">scope</span>.<span class="ident">new_collection_from</span>(<span class="number">0</span> .. <span class="number">10</span>).<span class="number">1</span>;
        <span class="kw">let</span> <span class="ident">x1</span> <span class="op">=</span> <span class="ident">nums</span>.<span class="ident">flat_map</span>(<span class="op">|</span><span class="ident">x</span><span class="op">|</span> <span class="number">0</span> .. <span class="ident">x</span>);
        <span class="kw">let</span> <span class="ident">x2</span> <span class="op">=</span> <span class="ident">nums</span>.<span class="ident">map</span>(<span class="op">|</span><span class="ident">x</span><span class="op">|</span> (<span class="ident">x</span>, <span class="number">9</span> <span class="op">-</span> <span class="ident">x</span>))
                     .<span class="ident">explode</span>(<span class="op">|</span>(<span class="ident">x</span>,<span class="ident">y</span>)<span class="op">|</span> <span class="prelude-val">Some</span>((<span class="ident">x</span>,<span class="ident">y</span>)));

        <span class="ident">x1</span>.<span class="ident">assert_eq</span>(<span class="kw-2">&amp;</span><span class="ident">x2</span>);
    });
}</pre>
</div><h4 id='method.enter' class="method"><span id='enter.v' class='invisible'><code>fn <a href='#method.enter' class='fnname'>enter</a>&lt;'a, T&gt;(&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; child: &amp;<a class="struct" href="../../../timely/dataflow/scopes/child/struct.Child.html" title="struct timely::dataflow::scopes::child::Child">Child</a>&lt;'a, G, T&gt;)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -&gt; <a class="struct" href="../../../differential_dataflow/collection/struct.Collection.html" title="struct differential_dataflow::collection::Collection">Collection</a>&lt;<a class="struct" href="../../../timely/dataflow/scopes/child/struct.Child.html" title="struct timely::dataflow::scopes::child::Child">Child</a>&lt;'a, G, T&gt;, D, R&gt; <span class="where fmt-newline">where T: <a class="trait" href="../../../timely/progress/timestamp/trait.Timestamp.html" title="trait timely::progress::timestamp::Timestamp">Timestamp</a></span></code></span></h4>
<div class='docblock'><p>Brings a Collection into a nested scope.</p>

<h1 id='examples-8' class='section-header'><a href='#examples-8'>Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">timely</span>;
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">differential_dataflow</span>;

<span class="kw">use</span> <span class="ident">timely</span>::<span class="ident">dataflow</span>::<span class="ident">Scope</span>;
<span class="kw">use</span> <span class="ident">differential_dataflow</span>::<span class="ident">input</span>::<span class="ident">Input</span>;
<span class="kw">use</span> <span class="ident">differential_dataflow</span>::<span class="ident">operators</span>::<span class="kw-2">*</span>;

<span class="kw">fn</span> <span class="ident">main</span>() {
    ::<span class="ident">timely</span>::<span class="ident">example</span>(<span class="op">|</span><span class="ident">scope</span><span class="op">|</span> {

        <span class="kw">let</span> <span class="ident">data</span> <span class="op">=</span> <span class="ident">scope</span>.<span class="ident">new_collection_from</span>(<span class="number">1</span> .. <span class="number">10</span>).<span class="number">1</span>;

        <span class="kw">let</span> <span class="ident">result</span> <span class="op">=</span> <span class="ident">scope</span>.<span class="ident">scoped</span>::<span class="op">&lt;</span>(),_,_<span class="op">&gt;</span>(<span class="op">|</span><span class="ident">child</span><span class="op">|</span> {
            <span class="ident">data</span>.<span class="ident">enter</span>(<span class="ident">child</span>)
                .<span class="ident">leave</span>()
        });

        <span class="ident">data</span>.<span class="ident">assert_eq</span>(<span class="kw-2">&amp;</span><span class="ident">result</span>);
    });
}</pre>
</div><h4 id='method.enter_at' class="method"><span id='enter_at.v' class='invisible'><code>fn <a href='#method.enter_at' class='fnname'>enter_at</a>&lt;'a, T, F&gt;(&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; child: &amp;<a class="struct" href="../../../timely/dataflow/scopes/child/struct.Child.html" title="struct timely::dataflow::scopes::child::Child">Child</a>&lt;'a, G, T&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; initial: F)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -&gt; <a class="struct" href="../../../differential_dataflow/collection/struct.Collection.html" title="struct differential_dataflow::collection::Collection">Collection</a>&lt;<a class="struct" href="../../../timely/dataflow/scopes/child/struct.Child.html" title="struct timely::dataflow::scopes::child::Child">Child</a>&lt;'a, G, T&gt;, D, R&gt; <span class="where fmt-newline">where T: <a class="trait" href="../../../timely/progress/timestamp/trait.Timestamp.html" title="trait timely::progress::timestamp::Timestamp">Timestamp</a>, F: <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/trait.Fn.html" title="trait core::ops::Fn">Fn</a>(&amp;D) -&gt; T + 'static, G::<a class="trait" href="../../../timely/dataflow/scopes/trait.ScopeParent.html" title="trait timely::dataflow::scopes::ScopeParent">Timestamp</a>: <a class="trait" href="https://doc.rust-lang.org/nightly/core/hash/trait.Hash.html" title="trait core::hash::Hash">Hash</a>, T: <a class="trait" href="https://doc.rust-lang.org/nightly/core/hash/trait.Hash.html" title="trait core::hash::Hash">Hash</a></span></code></span></h4>
<div class='docblock'><p>Brings a Collection into a nested scope, at varying times.</p>

<p>The <code>initial</code> function indicates the time at which each element of the Collection should appear.</p>

<h1 id='examples-9' class='section-header'><a href='#examples-9'>Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">timely</span>;
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">differential_dataflow</span>;

<span class="kw">use</span> <span class="ident">timely</span>::<span class="ident">dataflow</span>::<span class="ident">Scope</span>;
<span class="kw">use</span> <span class="ident">differential_dataflow</span>::<span class="ident">input</span>::<span class="ident">Input</span>;
<span class="kw">use</span> <span class="ident">differential_dataflow</span>::<span class="ident">operators</span>::<span class="kw-2">*</span>;

<span class="kw">fn</span> <span class="ident">main</span>() {
    ::<span class="ident">timely</span>::<span class="ident">example</span>(<span class="op">|</span><span class="ident">scope</span><span class="op">|</span> {

        <span class="kw">let</span> <span class="ident">data</span> <span class="op">=</span> <span class="ident">scope</span>.<span class="ident">new_collection_from</span>(<span class="number">1</span> .. <span class="number">10</span>).<span class="number">1</span>;

        <span class="kw">let</span> <span class="ident">result</span> <span class="op">=</span> <span class="ident">scope</span>.<span class="ident">scoped</span>(<span class="op">|</span><span class="ident">child</span><span class="op">|</span> {
            <span class="ident">data</span>.<span class="ident">enter_at</span>(<span class="ident">child</span>, <span class="op">|</span><span class="ident">x</span><span class="op">|</span> <span class="kw-2">*</span><span class="ident">x</span>)
                .<span class="ident">leave</span>()
        });

        <span class="ident">data</span>.<span class="ident">assert_eq</span>(<span class="kw-2">&amp;</span><span class="ident">result</span>);
    });
}</pre>
</div><h4 id='method.inspect' class="method"><span id='inspect.v' class='invisible'><code>fn <a href='#method.inspect' class='fnname'>inspect</a>&lt;F&gt;(&amp;self, func: F) -&gt; <a class="struct" href="../../../differential_dataflow/collection/struct.Collection.html" title="struct differential_dataflow::collection::Collection">Collection</a>&lt;G, D, R&gt; <span class="where fmt-newline">where F: <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/trait.FnMut.html" title="trait core::ops::FnMut">FnMut</a>(&amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a>D, G::<a class="trait" href="../../../timely/dataflow/scopes/trait.ScopeParent.html" title="trait timely::dataflow::scopes::ScopeParent">Timestamp</a>, R<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a>) + 'static</span></code></span></h4>
<div class='docblock'><p>Applies a supplied function to each update.</p>

<p>This method is most commonly used to report information back to the user, often for debugging purposes. 
Any function can be used here, but be warned that the incremental nature of differential dataflow does
not guarantee that it will be called as many times as you might expect.</p>

<p>The <code>(data, time, diff)</code> triples indicate a change <code>diff</code> to the frequency of <code>data</code> which takes effect
at the logical time <code>time</code>. When times are totally ordered (for example, <code>usize</code>), these updates reflect
the changes along the sequence of collections. For partially ordered times, the mathematics are more 
interesting and less intuitive, unfortunately. </p>

<h1 id='examples-10' class='section-header'><a href='#examples-10'>Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">timely</span>;
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">differential_dataflow</span>;

<span class="kw">use</span> <span class="ident">differential_dataflow</span>::<span class="ident">input</span>::<span class="ident">Input</span>;
<span class="kw">use</span> <span class="ident">differential_dataflow</span>::<span class="ident">operators</span>::<span class="kw-2">*</span>;

<span class="kw">fn</span> <span class="ident">main</span>() {
    ::<span class="ident">timely</span>::<span class="ident">example</span>(<span class="op">|</span><span class="ident">scope</span><span class="op">|</span> {
        <span class="ident">scope</span>.<span class="ident">new_collection_from</span>(<span class="number">1</span> .. <span class="number">10</span>).<span class="number">1</span>
             .<span class="ident">map_in_place</span>(<span class="op">|</span><span class="ident">x</span><span class="op">|</span> <span class="kw-2">*</span><span class="ident">x</span> <span class="op">*=</span> <span class="number">2</span>)
             .<span class="ident">filter</span>(<span class="op">|</span><span class="ident">x</span><span class="op">|</span> <span class="ident">x</span> <span class="op">%</span> <span class="number">2</span> <span class="op">==</span> <span class="number">1</span>)
             .<span class="ident">inspect</span>(<span class="op">|</span><span class="ident">x</span><span class="op">|</span> <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;error: {:?}&quot;</span>, <span class="ident">x</span>));
    });
}</pre>
</div><h4 id='method.inspect_batch' class="method"><span id='inspect_batch.v' class='invisible'><code>fn <a href='#method.inspect_batch' class='fnname'>inspect_batch</a>&lt;F&gt;(&amp;self, func: F) -&gt; <a class="struct" href="../../../differential_dataflow/collection/struct.Collection.html" title="struct differential_dataflow::collection::Collection">Collection</a>&lt;G, D, R&gt; <span class="where fmt-newline">where F: <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/trait.FnMut.html" title="trait core::ops::FnMut">FnMut</a>(&amp;G::<a class="trait" href="../../../timely/dataflow/scopes/trait.ScopeParent.html" title="trait timely::dataflow::scopes::ScopeParent">Timestamp</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a>D, G::<a class="trait" href="../../../timely/dataflow/scopes/trait.ScopeParent.html" title="trait timely::dataflow::scopes::ScopeParent">Timestamp</a>, R<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>) + 'static</span></code></span></h4>
<div class='docblock'><p>Applies a supplied function to each batch of updates.</p>

<p>This method is analogous to <code>inspect</code>, but operates on batches and reveals the timestamp of the 
timely dataflow capability associated with the batch of updates. The observed batching depends
on how the system executes, and may vary run to run.</p>

<h1 id='examples-11' class='section-header'><a href='#examples-11'>Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">timely</span>;
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">differential_dataflow</span>;

<span class="kw">use</span> <span class="ident">differential_dataflow</span>::<span class="ident">input</span>::<span class="ident">Input</span>;
<span class="kw">use</span> <span class="ident">differential_dataflow</span>::<span class="ident">operators</span>::<span class="kw-2">*</span>;

<span class="kw">fn</span> <span class="ident">main</span>() {
    ::<span class="ident">timely</span>::<span class="ident">example</span>(<span class="op">|</span><span class="ident">scope</span><span class="op">|</span> {
        <span class="ident">scope</span>.<span class="ident">new_collection_from</span>(<span class="number">1</span> .. <span class="number">10</span>).<span class="number">1</span>
             .<span class="ident">map_in_place</span>(<span class="op">|</span><span class="ident">x</span><span class="op">|</span> <span class="kw-2">*</span><span class="ident">x</span> <span class="op">*=</span> <span class="number">2</span>)
             .<span class="ident">filter</span>(<span class="op">|</span><span class="ident">x</span><span class="op">|</span> <span class="ident">x</span> <span class="op">%</span> <span class="number">2</span> <span class="op">==</span> <span class="number">1</span>)
             .<span class="ident">inspect_batch</span>(<span class="op">|</span><span class="ident">t</span>,<span class="ident">xs</span><span class="op">|</span> <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;errors @ {:?}: {:?}&quot;</span>, <span class="ident">t</span>, <span class="ident">xs</span>));
    });
}</pre>
</div><h4 id='method.probe' class="method"><span id='probe.v' class='invisible'><code>fn <a href='#method.probe' class='fnname'>probe</a>(&amp;self) -&gt; <a class="struct" href="../../../timely/dataflow/operators/probe/struct.Handle.html" title="struct timely::dataflow::operators::probe::Handle">Handle</a>&lt;G::<a class="trait" href="../../../timely/dataflow/scopes/trait.ScopeParent.html" title="trait timely::dataflow::scopes::ScopeParent">Timestamp</a>&gt;</code></span></h4>
<div class='docblock'><p>Attaches a timely dataflow probe to the output of a Collection.</p>

<p>This probe is used to determine when the state of the Collection has stabilized and can
be read out. </p>
</div><h4 id='method.probe_with' class="method"><span id='probe_with.v' class='invisible'><code>fn <a href='#method.probe_with' class='fnname'>probe_with</a>(&amp;self, handle: &amp;mut <a class="struct" href="../../../timely/dataflow/operators/probe/struct.Handle.html" title="struct timely::dataflow::operators::probe::Handle">Handle</a>&lt;G::<a class="trait" href="../../../timely/dataflow/scopes/trait.ScopeParent.html" title="trait timely::dataflow::scopes::ScopeParent">Timestamp</a>&gt;) -&gt; <a class="struct" href="../../../differential_dataflow/collection/struct.Collection.html" title="struct differential_dataflow::collection::Collection">Collection</a>&lt;G, D, R&gt;</code></span></h4>
<div class='docblock'><p>Attaches a timely dataflow probe to the output of a Collection.</p>

<p>This probe is used to determine when the state of the Collection has stabilized and all updates observed.
In addition, a probe is also often use to limit the number of rounds of input in flight at any moment; a
computation can wait until the probe has caught up to the input before introducing more rounds of data, to
avoid swamping the system.</p>
</div><h4 id='method.assert_eq' class="method"><span id='assert_eq.v' class='invisible'><code>fn <a href='#method.assert_eq' class='fnname'>assert_eq</a>(&amp;self, other: &amp;Self) <span class="where fmt-newline">where D: <a class="trait" href="../../../differential_dataflow/trait.Data.html" title="trait differential_dataflow::Data">Data</a> + <a class="trait" href="../../../differential_dataflow/hashable/trait.Hashable.html" title="trait differential_dataflow::hashable::Hashable">Hashable</a>, G::<a class="trait" href="../../../timely/dataflow/scopes/trait.ScopeParent.html" title="trait timely::dataflow::scopes::ScopeParent">Timestamp</a>: <a class="trait" href="../../../differential_dataflow/lattice/trait.Lattice.html" title="trait differential_dataflow::lattice::Lattice">Lattice</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/cmp/trait.Ord.html" title="trait core::cmp::Ord">Ord</a></span></code></span></h4>
<div class='docblock'><p>Assert if the collections are ever different.</p>

<p>Because this is a dataflow fragment, the test is only applied as the computation is run. If the computation
is not run, or not run to completion, there may be un-exercised times at which the collections could vary.
Typically, a timely dataflow computation runs to completion on drop, and so clean exit from a program should
indicate that this assertion never found cause to complain.</p>

<h1 id='examples-12' class='section-header'><a href='#examples-12'>Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">timely</span>;
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">differential_dataflow</span>;

<span class="kw">use</span> <span class="ident">differential_dataflow</span>::<span class="ident">input</span>::<span class="ident">Input</span>;
<span class="kw">use</span> <span class="ident">differential_dataflow</span>::<span class="ident">operators</span>::<span class="kw-2">*</span>;

<span class="kw">fn</span> <span class="ident">main</span>() {
    ::<span class="ident">timely</span>::<span class="ident">example</span>(<span class="op">|</span><span class="ident">scope</span><span class="op">|</span> {

        <span class="kw">let</span> <span class="ident">data</span> <span class="op">=</span> <span class="ident">scope</span>.<span class="ident">new_collection_from</span>(<span class="number">1</span> .. <span class="number">10</span>).<span class="number">1</span>;

        <span class="kw">let</span> <span class="ident">odds</span> <span class="op">=</span> <span class="ident">data</span>.<span class="ident">filter</span>(<span class="op">|</span><span class="ident">x</span><span class="op">|</span> <span class="ident">x</span> <span class="op">%</span> <span class="number">2</span> <span class="op">==</span> <span class="number">1</span>);
        <span class="kw">let</span> <span class="ident">evens</span> <span class="op">=</span> <span class="ident">data</span>.<span class="ident">filter</span>(<span class="op">|</span><span class="ident">x</span><span class="op">|</span> <span class="ident">x</span> <span class="op">%</span> <span class="number">2</span> <span class="op">==</span> <span class="number">0</span>);

        <span class="ident">odds</span>.<span class="ident">concat</span>(<span class="kw-2">&amp;</span><span class="ident">evens</span>)
            .<span class="ident">assert_eq</span>(<span class="kw-2">&amp;</span><span class="ident">data</span>);
    });
}</pre>
</div><h4 id='method.assert_empty' class="method"><span id='assert_empty.v' class='invisible'><code>fn <a href='#method.assert_empty' class='fnname'>assert_empty</a>(&amp;self) <span class="where fmt-newline">where D: <a class="trait" href="../../../differential_dataflow/trait.Data.html" title="trait differential_dataflow::Data">Data</a> + <a class="trait" href="../../../differential_dataflow/hashable/trait.Hashable.html" title="trait differential_dataflow::hashable::Hashable">Hashable</a>, G::<a class="trait" href="../../../timely/dataflow/scopes/trait.ScopeParent.html" title="trait timely::dataflow::scopes::ScopeParent">Timestamp</a>: <a class="trait" href="../../../differential_dataflow/lattice/trait.Lattice.html" title="trait differential_dataflow::lattice::Lattice">Lattice</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/cmp/trait.Ord.html" title="trait core::cmp::Ord">Ord</a></span></code></span></h4>
<div class='docblock'><p>Assert if the collection is ever non-empty.</p>

<p>Because this is a dataflow fragment, the test is only applied as the computation is run. If the computation
is not run, or not run to completion, there may be un-exercised times at which the collection could be non-empty.
Typically, a timely dataflow computation runs to completion on drop, and so clean exit from a program should
indicate that this assertion never found cause to complain.</p>

<h1 id='examples-13' class='section-header'><a href='#examples-13'>Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">timely</span>;
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">differential_dataflow</span>;

<span class="kw">use</span> <span class="ident">differential_dataflow</span>::<span class="ident">input</span>::<span class="ident">Input</span>;
<span class="kw">use</span> <span class="ident">differential_dataflow</span>::<span class="ident">operators</span>::<span class="kw-2">*</span>;

<span class="kw">fn</span> <span class="ident">main</span>() {
    ::<span class="ident">timely</span>::<span class="ident">example</span>(<span class="op">|</span><span class="ident">scope</span><span class="op">|</span> {
        <span class="ident">scope</span>.<span class="ident">new_collection_from</span>(<span class="number">1</span> .. <span class="number">10</span>).<span class="number">1</span>
             .<span class="ident">map</span>(<span class="op">|</span><span class="ident">x</span><span class="op">|</span> <span class="ident">x</span> <span class="op">*</span> <span class="number">2</span>)
             .<span class="ident">filter</span>(<span class="op">|</span><span class="ident">x</span><span class="op">|</span> <span class="ident">x</span> <span class="op">%</span> <span class="number">2</span> <span class="op">==</span> <span class="number">1</span>)
             .<span class="ident">assert_empty</span>();
    });
}</pre>
</div><h4 id='method.scope' class="method"><span id='scope.v' class='invisible'><code>fn <a href='#method.scope' class='fnname'>scope</a>(&amp;self) -&gt; G</code></span></h4>
<div class='docblock'><p>The scope containing the underlying timely dataflow stream.</p>
</div></div><div class='impl-items'><h4 id='method.leave' class="method"><span id='leave.v' class='invisible'><code>fn <a href='#method.leave' class='fnname'>leave</a>(&amp;self) -&gt; <a class="struct" href="../../../differential_dataflow/collection/struct.Collection.html" title="struct differential_dataflow::collection::Collection">Collection</a>&lt;G, D, R&gt;</code></span></h4>
<div class='docblock'><p>Returns the final value of a Collection from a nested scope to its containing scope.</p>

<h1 id='examples-14' class='section-header'><a href='#examples-14'>Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">timely</span>;
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">differential_dataflow</span>;

<span class="kw">use</span> <span class="ident">timely</span>::<span class="ident">dataflow</span>::<span class="ident">Scope</span>;
<span class="kw">use</span> <span class="ident">differential_dataflow</span>::<span class="ident">input</span>::<span class="ident">Input</span>;
<span class="kw">use</span> <span class="ident">differential_dataflow</span>::<span class="ident">operators</span>::<span class="kw-2">*</span>;

<span class="kw">fn</span> <span class="ident">main</span>() {
    ::<span class="ident">timely</span>::<span class="ident">example</span>(<span class="op">|</span><span class="ident">scope</span><span class="op">|</span> {

        <span class="kw">let</span> <span class="ident">data</span> <span class="op">=</span> <span class="ident">scope</span>.<span class="ident">new_collection_from</span>(<span class="number">1</span> .. <span class="number">10</span>).<span class="number">1</span>;

        <span class="kw">let</span> <span class="ident">result</span> <span class="op">=</span> <span class="ident">scope</span>.<span class="ident">scoped</span>::<span class="op">&lt;</span>(),_,_<span class="op">&gt;</span>(<span class="op">|</span><span class="ident">child</span><span class="op">|</span> {
            <span class="ident">data</span>.<span class="ident">enter</span>(<span class="ident">child</span>)
                .<span class="ident">leave</span>()
        });

        <span class="ident">data</span>.<span class="ident">assert_eq</span>(<span class="kw-2">&amp;</span><span class="ident">result</span>);
    });
}</pre>
</div></div><h2 id='implementations'>Trait Implementations</h2><h3 class='impl'><span class='in-band'><code>impl&lt;'a, G:&nbsp;<a class="trait" href="../../../timely/dataflow/scopes/trait.Scope.html" title="trait timely::dataflow::scopes::Scope">Scope</a>, D:&nbsp;<a class="trait" href="../../../differential_dataflow/trait.Data.html" title="trait differential_dataflow::Data">Data</a>, R:&nbsp;<a class="trait" href="../../../differential_dataflow/difference/trait.Diff.html" title="trait differential_dataflow::difference::Diff">Diff</a>&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/trait.Deref.html" title="trait core::ops::Deref">Deref</a> for <a class="struct" href="../../../differential_dataflow/operators/iterate/struct.Variable.html" title="struct differential_dataflow::operators::iterate::Variable">Variable</a>&lt;'a, G, D, R&gt; <span class="where fmt-newline">where G::<a class="trait" href="../../../timely/dataflow/scopes/trait.ScopeParent.html" title="trait timely::dataflow::scopes::ScopeParent">Timestamp</a>: <a class="trait" href="../../../differential_dataflow/lattice/trait.Lattice.html" title="trait differential_dataflow::lattice::Lattice">Lattice</a></span></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../../src/differential_dataflow/operators/iterate.rs.html#159-164' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='associatedtype.Target' class="type"><span id='Target.t' class='invisible'><code>type <a href='https://doc.rust-lang.org/nightly/core/ops/trait.Deref.html#associatedtype.Target' class="type">Target</a> = <a class="struct" href="../../../differential_dataflow/collection/struct.Collection.html" title="struct differential_dataflow::collection::Collection">Collection</a>&lt;<a class="struct" href="../../../timely/dataflow/scopes/child/struct.Child.html" title="struct timely::dataflow::scopes::child::Child">Child</a>&lt;'a, G, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>&gt;, D, R&gt;</code></span></h4>
<div class='docblock'><p>The resulting type after dereferencing</p>
</div><h4 id='method.deref' class="method"><span id='deref.v' class='invisible'><code>fn <a href='https://doc.rust-lang.org/nightly/core/ops/trait.Deref.html#tymethod.deref' class='fnname'>deref</a>(&amp;self) -&gt; &amp;Self::<a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/trait.Deref.html" title="trait core::ops::Deref">Target</a></code></span></h4>
<div class='docblock'><p>The method called to dereference a value</p>
</div></div></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                    <dt>+</dt>
                    <dd>Collapse/expand all sections</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../../../";
        window.currentCrate = "differential_dataflow";
    </script>
    <script src="../../../jquery.js"></script>
    <script src="../../../main.js"></script>
    <script defer src="../../../search-index.js"></script>
</body>
</html>